"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[857],{270:function(e,n,t){var s=t(152),r=t(791);n.Z=function(e){var n=(0,r.useState)(""),t=(0,s.Z)(n,2),c=t[0],o=t[1],a=(0,r.useState)(!1),d=(0,s.Z)(a,2),i=d[0],l=d[1],u=e(c);return{value:c,isValid:u,hasError:!u&&i,valueChangeHandler:function(e){o(e.target.value)},inputBlurHandler:function(e){l(!0)},reset:function(){o(""),l(!1)}}}},857:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var s=t(791),r=t(880),c=t(523),o=t(152),a="Comments_comments__9cxIN",d="Comments_hr__-O1bB",i=t(995),l=t(853),u=t(556),m="NewCommentForm_form__C3cQf",h="NewCommentForm_control__iR6jS",x="NewCommentForm_actions__NC323",j="NewCommentForm_invalid__v7AvP",f=t(270),v=t(184),N=function(e){var n=(0,f.Z)((function(e){return""!==e.trim()})),t=n.value,r=n.isValid,c=n.hasError,o=n.valueChangeHandler,a=n.inputBlurHandler,d=n.reset,N=!1;r&&(N=!0);var _=(0,s.useRef)(),p=(0,i.Z)(l.Ir),C=p.sendRequest,g=p.status,b=p.error,Z=e.onAddedComment;(0,s.useEffect)((function(){"completed"!==g||b||Z()}),[g,b,Z]);var q=function(n){if(n.preventDefault(),N){var t=_.current.value;C({commentData:{text:t},quoteId:e.quoteId}),d()}},w="".concat(h," ").concat(c?j:"classes.invalid");return(0,v.jsxs)("form",{className:m,onSubmit:q,children:["pending"===g&&(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(u.Z,{})}),(0,v.jsxs)("div",{className:w,onSubmit:q,children:[(0,v.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),(0,v.jsx)("textarea",{id:"comment",rows:"5",onChange:o,onBlur:a,ref:_,value:t}),c&&(0,v.jsx)("p",{className:"error-text",children:"Please enter a valid comment!"})]}),(0,v.jsx)("div",{className:x,children:(0,v.jsx)("button",{disabled:!N,className:"btn",children:"Add Comment"})})]})},_="CommentItem_item__+vwzS",p=function(e){return(0,v.jsx)("li",{className:_,children:(0,v.jsx)("p",{children:e.text})})},C="CommentsList_comments__UVWAR",g=function(e){return(0,v.jsx)("ul",{className:C,children:e.comments.map((function(e){return(0,v.jsx)(p,{text:e.text},e.id)}))})},b=function(){var e=(0,s.useState)(!1),n=(0,o.Z)(e,2),t=n[0],c=n[1],m=(0,r.UO)().quoteId,h=(0,i.Z)(l.h_),x=h.sendRequest,j=h.status,f=h.data,_=h.error;(0,s.useEffect)((function(){x(m)}),[m,x]);var p,C=(0,s.useCallback)((function(){x(m)}),[x,m]);return _?(0,v.jsx)("div",{id:"notfound",children:(0,v.jsxs)("div",{className:"notfound",children:[(0,v.jsx)("div",{className:"notfound-404",children:(0,v.jsx)("h2",{children:"Error"})}),(0,v.jsx)("h2",{children:_})]})}):("pending"===j&&(p=(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(u.Z,{})})),"completed"===j&&f&&f.length>0&&(p=(0,v.jsx)(g,{comments:f})),"completed"!==j||f&&0!==f.length||(p=(0,v.jsx)("div",{className:"notfound",children:(0,v.jsx)("div",{className:"notfound-404",children:(0,v.jsx)("h4",{children:"No Comments were added yet!"})})})),(0,v.jsxs)("section",{className:a,children:[!t&&(0,v.jsx)("button",{className:"btn",onClick:function(){c(!0)},children:"Add a Comment"}),(0,v.jsx)("h2",{children:"Comments"}),(0,v.jsx)("hr",{className:d}),t&&(0,v.jsx)(N,{quoteId:m,onAddedComment:C}),p]}))},Z="HighlightedQuote_quote__dE8qA",q=function(e){return(0,v.jsxs)("figure",{className:Z,children:[(0,v.jsx)("p",{children:e.text}),(0,v.jsx)("figcaption",{children:e.author})]})},w=function(){var e=(0,r.$B)(),n=(0,r.UO)().quoteId,t=(0,i.Z)(l.jR,!0),o=t.sendRequest,a=t.status,d=t.data,m=t.error;return(0,s.useEffect)((function(){o(n)}),[o,n]),"pending"===a?(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(u.Z,{})}):m?(0,v.jsx)("div",{id:"notfound",children:(0,v.jsxs)("div",{className:"notfound",children:[(0,v.jsx)("div",{className:"notfound-404",children:(0,v.jsx)("h2",{children:"Error"})}),(0,v.jsx)("h2",{children:m})]})}):d.text?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(q,{text:d.text,author:d.author}),(0,v.jsx)(r.AW,{path:e.path,exact:!0,children:(0,v.jsx)("div",{className:"centered",children:(0,v.jsx)(c.rU,{className:"btn--flat",to:"".concat(e.url,"/comments"),children:"Comments"})})}),(0,v.jsx)(r.AW,{path:"".concat(e.path,"/comments"),children:(0,v.jsx)(b,{})})]}):(0,v.jsx)("div",{id:"notfound",children:(0,v.jsxs)("div",{className:"notfound",children:[(0,v.jsx)("div",{className:"notfound-404",children:(0,v.jsx)("h1",{children:"404"})}),(0,v.jsx)("h2",{children:"Oops! No Quote Found"}),(0,v.jsx)("p",{children:(0,v.jsx)(c.rU,{to:"/",children:"Return to homepage"})})]})})}}}]);
//# sourceMappingURL=857.064def23.chunk.js.map